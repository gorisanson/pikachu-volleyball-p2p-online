<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Pikachu Volleyball P2P Online</title>
    <meta
      name="description"
      content="Play the game Pikachu Volleyball online via P2P (peer-to-peer) connection"
    />
    <meta name="author" content="Lee, Kyutae" />

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../resources/assets/images/IDI_PIKAICON-0.png"
    />
  </head>
  <body>
    <div id="before-connection">
      <div id="about-box-head">
        <h1>Pikachu Volleyball <span class="no-wrap">P2P Online</span></h1>
        <p class="languages">
          &check; English |
          <a href="../ko/" target="_self">Korean(한국어)</a>
        </p>
        <p class="offline-version">
          You can play
          <a href="https://gorisanson.github.io/pikachu-volleyball/en/"
            >the offline web version here</a
          >.
        </p>
        <p class="original-by">
          The original Pikachu Volleyball (対戦ぴかちゅ～　ﾋﾞｰﾁﾊﾞﾚｰ編) was
          developed by<br />
          1997 (C)
          <span class="no-wrap">SACHI SOFT / SAWAYAKAN Programmers</span><br />
          1997 (C) <span class="no-wrap">Satoshi Takenouchi</span>
        </p>
        <p class="reverse-engineered-by">
          The original game was reverse engineered and implemented into<br />
          this P2P (peer-to-peer) online version by<br />
          <span class="no-wrap"
            ><a href="https://gorisanson.github.io/">Lee, Kyutae</a></span
          >
        </p>
        <p class="source-code-on">
          You can view the source code on
          <a
            href="https://github.com/gorisanson/pikachu-volleyball-p2p-online"
            target="_blank"
            rel="noopener"
            >GitHub</a
          >.
        </p>
        <p class="release-date">
          Release Date: 2020-04-08
        </p>
        <p class="game-last-updated">
          Game Last Updated: 2020-05-05
        </p>
        <p class="page-last-updated">
          Page Last Updated: 2020-05-05
        </p>
      </div>
      <div class="margin-top">
        <div>
          <div class="align-center-horizontally">
            <img
              class="screenshot"
              src="../resources/assets/images/screenshot.png"
              alt="Pikachu Volleyball game screenshot"
            />
          </div>
          <p>
            Pikachu Volleyball is an old Windows game which was developed in
            Japan in 1997. You can play this game here online by establishing a
            peer-to-peer connection with a peer.
          </p>
          <p>
            The latest version of the web browser is recommended. The latest
            versions of Chrome, Firefox, Safari, and Opera browsers are checked
            and supported. Internet Explorer is not supported.
          </p>
        </div>
        <div>
          <p class="margin-top">
            <span class="thick">Controls:</span> Use the one comfortable for
            you. (In case of a touch/mobile device, you need a Bluetooth
            keyboard.)
          </p>
          <div class="align-center-horizontally">
            <img
              class="controls"
              src="../resources/assets/images/controls_online.png"
              alt="game controls"
            />
          </div>
        </div>
        <div>
          <p class="margin-top">
            <span class="thick">Notice:</span> This peer-to-peer online version
            is not playable under the following environment. (<a
              href="https://webrtc.org/"
              target="_blank"
              rel="noopener"
              >WebRTC</a
            >, which is a technology this P2P online version utilizes, cannot
            establish a
            <a
              href="https://en.wikipedia.org/wiki/Peer-to-peer"
              target="_blank"
              rel="noopener"
              >peer-to-peer</a
            >
            connection under the following environment.)
          </p>
          <ul>
            <li>
              If you are under a (corporate) firewall which blocks UDP ports
            </li>
            <li>
              If you are under a
              <a
                href="https://en.wikipedia.org/wiki/Network_address_translation#Methods_of_translation"
                target="_blank"
                rel="noopener"
                >symmetric NAT</a
              >
              (As an example, 3G, 4G or LTE cellular network is commonly under
              this environment.)
            </li>
          </ul>
          <p>
            By using the "Test network" button below, you can check your network
            about the two issues above.
          </p>
          <button type="button" id="network-test-btn">
            Test network
          </button>
        </div>
      </div>
      <div class="margin-top grid-1-1">
        <button id="quick-match-btn">Quick Match</button>
        <button id="with-your-friend-btn">With one of your friends</button>
      </div>
      <div id="about-with-your-friend" class="margin-top hidden">
        <div>
          <p>
            <span class="thick"
              >How to play online with one of your friends:</span
            >
          </p>
          <p>
            <span class="thick">Room Creator</span> - Click "create room"
            button. Then, send the Room ID (via a messenger, email or whatever)
            to the one ("Joiner") you want to play this game online with.
          </p>
          <p>
            <span class="thick">Joiner</span> - Copy and paste the received Room
            ID into the text input box left of the "join room" button, and click
            the "join room" button. Then connection process will be started.
          </p>
          <p class="margin-top">
            <span class="thick">Notice:</span> The connection will be
            established in about 5-10 seconds after the joiner clicked the "join
            room" button. If the game is not started after the waiting time, it
            indicates that the connection failed.
          </p>
        </div>
        <div id="create-btn-with-created-room-id" class="margin-top">
          <button type="button" id="create-btn">create room</button>
          <div id="created-room-id-container">
            <span class="margin-left-right">Room ID:</span>
            <span id="current-room-id"></span>
          </div>
        </div>
        <div id="room-id-with-join-btn">
          <label for="join-room-id-input">Room ID to join</label>
          <input
            type="text"
            id="join-room-id-input"
            maxlength="30"
            autocapitalize="none"
            autocomplete="off"
            autocorrect="off"
          />
          <button type="button" id="join-btn">join room</button>
        </div>
        <div class="margin-top log">
          <p>
            <span class="thick">Connection Log:</span>
          </p>
          <div
            id="connection-log-with-friend"
            style="white-space: pre-line;"
          ></div>
        </div>
      </div>
      <div
        id="press-enter-to-quick-match"
        class="fade-in-box notice fixed hidden"
      >
        <p>
          <span class="thick">Press "Enter" key</span> to start Quick Match.<br />
          (It is for preventing devices without a keyboard from doing quick
          match.)
        </p>
        <button id="cancel-quick-match-btn" class="btn-in-box large">
          cancel <span class="no-wrap">Quick Match</span>
        </button>
      </div>
      <div
        id="quick-match-notice-box"
        class="fade-in-box notice fixed scroll hidden"
      >
        <div>
          <span class="thick"
            >Number of matches connected by<br />
            Quick Match within the last..</span
          >
          <ul>
            <li>24 hours: <span id="within-24-hours"></span></li>
            <li>1 hour: <span id="within-1-hour"></span></li>
            <li>10 minutes: <span id="within-10-minutes"></span></li>
          </ul>
        </div>
        <div>
          <p>
            <span class="thick">Quick Match Log:</span>
          </p>
          <p>
            Number of communication with the quick match server:
            <span id="communication-count">0</span>
          </p>
          <div id="quick-match-log" style="white-space: pre-line;"></div>
        </div>
        <div class="log">
          <p>
            <span class="thick">Connection Log:</span>
          </p>
          <div
            id="connection-log-quick-match"
            style="white-space: pre-line;"
          ></div>
        </div>
        <button id="cancel-quick-match-btn-2" class="btn-in-box large">
          cancel <span class="no-wrap">Quick Match</span>
        </button>
      </div>
      <div id="container-for-margin"></div>
      <div id="waiting-message" class="hidden">
        Waiting for someone to come here to play Pikachu Volleyball...
      </div>
      <div id="waiting-peer-to-connect-message" class="hidden">
        Found a peer. (If the game is not started in about 20 seconds after this
        message appers, it means the connection failed.)
      </div>
      <div id="connect-to-peer-after-a-while-message" class="hidden">
        Found a peer. It will connect to them after 5 seconds.
      </div>
      <div id="connect-to-peer-message" class="hidden">
        Now connecting to a peer... (If the game is not started in about 20
        seconds after this message appers, it means the connection failed.)
      </div>
      <div id="abandoned-message" class="hidden">
        Disconnected from the quick match server.
      </div>
      <div id="failed-to-connect-to-server" class="hidden">
        Failed to connect to the quick match server.
      </div>
      <div id="not-valid-room-id-message" class="hidden">
        The room ID format is not valid. Please check the entered room ID.
      </div>
      <div id="no-room-matching-message" class="hidden">
        There is no room matching the ID. Please check the entered room ID.
      </div>
      <div id="test-passed" class="fade-in-box notice fixed hidden">
        No issues are detected.<br /><br />
        (1) The server reflexive candidate can be gotten. (UDP ports are
        open.)<br />
        (2) Your network is not behind a symmetric NAT.
        <button id="test-passed-ok-btn" class="btn-in-box">
          OK
        </button>
      </div>
      <div
        id="did-not-get-srflx-candidate"
        class="fade-in-box notice fixed hidden"
      >
        This P2P online version is not going to work on your network.<br /><br />
        The server reflexive candidate can't be gotten. Maybe the reason is that
        the necessary UDP ports are blocked. If you connected via a corporate
        network, maybe the firewall is blocking the UDP ports.
        <button id="did-not-get-srflx-candidate-ok-btn" class="btn-in-box">
          OK
        </button>
      </div>
      <div id="behind-symmetric-nat" class="fade-in-box notice fixed hidden">
        This P2P online version is not going to work on your network.<br /><br />
        Your network is behind a symmetric NAT.
        <button id="behind-symmetric-nat-ok-btn" class="btn-in-box">
          OK
        </button>
      </div>
    </div>
    <div id="flex-container" class="hidden">
      <div id="game-canvas-container">
        <div id="player1-chat-box" class="chat-box"></div>
        <div id="player2-chat-box" class="chat-box"></div>
        <div class="fade-in-box loading black" id="loading-box">
          <div>
            <p>Loading the game assets...</p>
            <div id="progress-bar-border">
              <div id="progress-bar" style="width: 0%;"></div>
            </div>
          </div>
          <div>
            Menu description<br /><br />
            <span class="no-wrap">"2人でぴかちゅ~"</span>(upper) - Keep the
            current side of play<br />
            <span class="no-wrap">"2人でぴかちゅ~"</span>(lower) - Swap the side
            of play
          </div>
        </div>
        <div class="fade-in-box peer-loading black" id="peer-loading-box">
          <div>
            <p>Waiting for the peer to load the game assets...</p>
          </div>
        </div>
        <div class="fade-in-box ping black" id="ping-box">
          <div>
            <p>Average ping: <span id="average-ping"></span> ms</p>
            <p>If the ping is over 100 ms, the game play can be unstable.</p>
            <p>The game starts in <span id="starts-in"></span> seconds.</p>
          </div>
        </div>
        <div class="fade-in-box notice hidden" id="notice-disconnected">
          <p>
            Disconnected from the peer.
          </p>
          <button id="notice-disconnected-ok-btn" class="btn-in-box">OK</button>
        </div>
        <div class="fade-in-box notice hidden" id="ask-one-more-game">
          <p>
            Play one more game with the peer?
          </p>
          <div class="grid-1-1 center">
            <button id="ask-one-more-game-yes-btn" class="btn-in-box">
              One more!
            </button>
            <button id="ask-one-more-game-no-btn" class="btn-in-box">
              Nope
            </button>
          </div>
        </div>
      </div>
      <div id="chat-input-here">
        <div id="chat-input-and-send-btn-container" class="hidden">
          <input type="text" id="chat-input" maxlength="50" />
          <button type="button" id="send-btn">send (Enter)</button>
        </div>
        <button id="chat-open-btn">Chat (Esc)</button>
      </div>
    </div>
  </body>
</html>
